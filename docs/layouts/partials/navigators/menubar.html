{{/*  variables for enabling/disabling various features  */}}
{{ $blogEnabled   := site.Params.features.blog.enable   | default false }}
{{ $notesEnabled  := site.Params.features.notes.enable  | default false }}

{{/*  keep backward compatibility for blog post  */}}
{{ if site.Params.enableBlogPost }}
  {{ $blogEnabled = true }}
{{ end }}

{{ $menus := site.Data.menubar }}
{{ if (index site.Data site.Language.Lang).menubar }}
  {{ $menus = (index site.Data site.Language.Lang).menubar }}
{{ end }}

{{ $style := resources.Get "css/navigators/menubar.css" | resources.ExecuteAsTemplate "css/menubar.css" . -}}
<link rel="stylesheet" href="{{ $style.RelPermalink }}">

{{ if $menus }}
<nav class="menu">
	<ul class="menu__list">
		{{- $currentNode := . }}
		{{- range sort $menus "menu.weight" }}
			{{- if .menu.name }}
				<li class="menu__item">
					<a class="menu__link" href="{{ .URL }}">
						{{ .Pre }}
						<span class="menu__text">{{ .menu.name }}</span>
						{{ .Post }}
					</a>
				</li>
			{{- end }}
		{{- end }}
	</ul>
</nav>
{{ end }}

